[gd_scene load_steps=11 format=4 uid="uid://cnhj6mgja4h5a"]

[ext_resource type="Script" uid="uid://coras8qp0fyli" path="res://src/ImageEditor/ImageEditor.cs" id="1_116yk"]
[ext_resource type="PackedScene" uid="uid://ffrwo5xcxd0r" path="res://src/ImageEditor/Camera2DController/Camera2DController.tscn" id="1_nwf5k"]
[ext_resource type="Shader" uid="uid://bsx38w01mswov" path="res://Assets/Shaders/ImageEditor.gdshader" id="3_e07nq"]
[ext_resource type="Texture2D" uid="uid://cae2jelncoq3w" path="res://Assets/SpriteSheetTemp/Anim_Running_spriteSheet.png" id="4_rt1bl"]
[ext_resource type="Shader" uid="uid://bqe6x0jbw5lpm" path="res://Assets/Shaders/SmoothPixel.gdshader" id="5_c5mtj"]

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_8pcxw"]
bg_color = Color(0.359069, 0.359069, 0.359069, 1)

[sub_resource type="StyleBoxEmpty" id="StyleBoxEmpty_vc4da"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_e07nq"]
shader = ExtResource("3_e07nq")
shader_parameter/brightness = 0.0
shader_parameter/contrast = 1.0
shader_parameter/saturation = 1.0
shader_parameter/enable_color_reduction = false
shader_parameter/num_colors = 16
shader_parameter/new_num_colors = 16
shader_parameter/palette = PackedVector4Array(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0)
shader_parameter/outline_color = Color(0, 0, 0, 1)
shader_parameter/outline_thickness = 0.0
shader_parameter/inline_color = Color(1, 1, 1, 1)
shader_parameter/inline_thickness = 0.0

[sub_resource type="ShaderMaterial" id="ShaderMaterial_8ibud"]
shader = ExtResource("5_c5mtj")

[sub_resource type="ViewportTexture" id="ViewportTexture_c5mtj"]
viewport_path = NodePath("RawImgPanel/ViewportContainer/ImgEditorSubViewport")

[node name="ImageEditorCore" type="PanelContainer" node_paths=PackedStringArray("ImgTextRect", "ImgEditorSubViewport", "HDCanvasLayer", "HDSubViewportContainer", "HDSubviewPort", "HDTextureRect")]
custom_minimum_size = Vector2(512, 512)
size_flags_horizontal = 3
size_flags_stretch_ratio = 3.0
localize_numeral_system = false
theme_override_styles/panel = SubResource("StyleBoxFlat_8pcxw")
script = ExtResource("1_116yk")
ImgTextRect = NodePath("RawImgPanel/ViewportContainer/ImgEditorSubViewport/ImageProcessorTextureRect")
ImgEditorSubViewport = NodePath("RawImgPanel/ViewportContainer/ImgEditorSubViewport")
HDCanvasLayer = NodePath("HiggenHDCanvasLayer")
HDSubViewportContainer = NodePath("HiggenHDCanvasLayer/HDPanel/HDViewportContainer")
HDSubviewPort = NodePath("HiggenHDCanvasLayer/HDPanel/HDViewportContainer/HDSubViewport")
HDTextureRect = NodePath("HiggenHDCanvasLayer/HDPanel/HDViewportContainer/HDSubViewport/HDTextureRect")

[node name="RawImgPanel" type="PanelContainer" parent="."]
custom_minimum_size = Vector2(800, 500)
layout_mode = 2
theme_override_styles/panel = SubResource("StyleBoxEmpty_vc4da")

[node name="ViewportContainer" type="SubViewportContainer" parent="RawImgPanel"]
clip_contents = true
layout_mode = 2
stretch = true

[node name="ImgEditorSubViewport" type="SubViewport" parent="RawImgPanel/ViewportContainer"]
transparent_bg = true
handle_input_locally = false
physics_object_picking = true
size = Vector2i(2, 2)
render_target_update_mode = 4

[node name="Camera2DController" parent="RawImgPanel/ViewportContainer/ImgEditorSubViewport" instance=ExtResource("1_nwf5k")]

[node name="ImageProcessorTextureRect" type="TextureRect" parent="RawImgPanel/ViewportContainer/ImgEditorSubViewport"]
unique_name_in_owner = true
material = SubResource("ShaderMaterial_e07nq")
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
texture = ExtResource("4_rt1bl")
expand_mode = 1
stretch_mode = 4

[node name="PixelSmoothPanel" type="PanelContainer" parent="."]
visible = false
custom_minimum_size = Vector2(800, 500)
layout_mode = 2

[node name="ViewportContainer" type="SubViewportContainer" parent="PixelSmoothPanel"]
clip_contents = true
layout_mode = 2
stretch = true

[node name="PixelSmoothSubViewport" type="SubViewport" parent="PixelSmoothPanel/ViewportContainer"]
transparent_bg = true
handle_input_locally = false
physics_object_picking = true
size = Vector2i(2, 2)
render_target_update_mode = 0

[node name="PixelSmoothEffectSprite2D" type="Sprite2D" parent="PixelSmoothPanel/ViewportContainer/PixelSmoothSubViewport"]
material = SubResource("ShaderMaterial_8ibud")
position = Vector2(400, 256)
texture = SubResource("ViewportTexture_c5mtj")

[node name="Camera2DController" parent="PixelSmoothPanel/ViewportContainer/PixelSmoothSubViewport" instance=ExtResource("1_nwf5k")]

[node name="HiggenHDCanvasLayer" type="CanvasLayer" parent="."]
layer = -2

[node name="HDPanel" type="PanelContainer" parent="HiggenHDCanvasLayer"]
anchors_preset = 2
anchor_top = 1.0
anchor_bottom = 1.0
offset_top = -84.0
offset_right = 512.0
grow_vertical = 0
size_flags_vertical = 4
theme_override_styles/panel = SubResource("StyleBoxEmpty_vc4da")

[node name="HDViewportContainer" type="SubViewportContainer" parent="HiggenHDCanvasLayer/HDPanel"]
clip_contents = true
layout_mode = 2

[node name="HDSubViewport" type="SubViewport" parent="HiggenHDCanvasLayer/HDPanel/HDViewportContainer"]
transparent_bg = true
handle_input_locally = false
physics_object_picking = true
render_target_update_mode = 4

[node name="HDTextureRect" type="TextureRect" parent="HiggenHDCanvasLayer/HDPanel/HDViewportContainer/HDSubViewport"]
material = SubResource("ShaderMaterial_e07nq")
anchors_preset = 7
anchor_left = 0.5
anchor_top = 1.0
anchor_right = 0.5
anchor_bottom = 1.0
offset_left = -264.0
offset_top = -512.0
offset_right = 248.0
grow_horizontal = 2
grow_vertical = 0
texture = ExtResource("4_rt1bl")
stretch_mode = 4
